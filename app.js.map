{"version":3,"sources":["webpack:///../domutils/es5/gui.js","webpack:///../domutils/es5/dom.js","webpack:///../domutils/es5/tabs.js","webpack:///./src/content.js","webpack:///./src/helpers/url-view.js","webpack:///./bundled/about.html","webpack:///./src/footer.js","webpack:///./src/helpers/donate.js","webpack:///./src/helpers/side-frame.js","webpack:///./src/helpers/icon.js","webpack:///./src/app.js","webpack:///../domutils/es5/html.js"],"names":["require","_slicedToArray","_toConsumableArray","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","_assertThisInitialized","_inherits","Projectable","html","ellipsis","_","prevchar","func","identifier","concat","variable","linkAttribute","obj","src","el","dest","style","substr","tagName","key","event","setTimeout","transformer","bind","functionBinder","link","type","addEventListener","groupEvent","module","exports","_Projectable","Gui","_this","template","arguments","length","undefined","values","this","call","domTree","create","innerHTML","replace","string","expand","content","childNodes","dataset","domNode","apply","Object","defineProperty","enumerable","writable","rewriteNode","attributes","filter","attribute","name","forEach","value","match","node","onclick","click","parentNode","insertBefore","nextSibling","uniqueName","childs","push","group","onchange","removeNamedItem","_attribute$value$subs","split","_attribute$value$subs2","_src","_dest","_src2","rewriteAttributes","nodeName","object","currentNode","replacer","trap","init","rewriteVariable","ref","convert","compute","array","oldNodes","parent","removeChild","Array","entry","expandEllipsis","old","forget","mirror","listen","map","rewriteEllipsis","rewriteTemplate","child","keys","keysFiltered","project","indexOf","assign","counter","srcElement","dom","env","document","window","element","id","querySelectorAll","index","_element","grab","head","body","header","nav","main","footer","ingest","_createClass","Mirrorable","Tabs","_Mirrorable","options","Nav","selector","Selector","view","View","append","select","Content","selected","findIndex","splice","destroy","className","find","generate","trigger","TabsContent","tabs","_this2","option","onselect","component","_Gui","TabsNav","_this3","links","tab","_Gui2","TabsSelector","_this4","target","selectedOptions","_Gui3","TabsView","_this5","x","ContentGui","items","item","Section","startsWith","background","urlView","iframe","domain","location","href","join","domainRegexp","RegExp","viewRegexp","open","page","thunk","iwindow","contentWindow","xdocument","timer","setInterval","idocument","state","readyState","clearInterval","onIframeInteractive","isSameDomain","isSamePage","pathname","encodedHref","preventDefault","hash","rel","rewriteLinks","show","close","hide","donate","Icon","SideFrame","amount","prompt","isNaN","Number","confirm","url","showDonationFrame","current","title","sandbox","hidden","htmlOverflow","documentElement","overflow","bodyOverflow","shadow","frameWindow","source","data","position","zIndex","right","top","width","maxWidth","height","border","backgroundImage","backgroundRepeat","backgroundPosition","padding","firstChild","image","action","about","hashHandler","scrollTop","add","onhashchange","misc","isNode","console","error","addStyles","styles","styleNode","_len","_key","appendChild","addClass","appendClass","deprecated","clear","_len2","elements","_key2","Element","HTMLDocument","Text","createTextNode","copyContent","selectionStart","selectionEnd","getSelection","range","createRange","selectNode","removeAllRanges","addRange","execCommand","copyString","textBox","createElement","Error","_len3","_key3","pattern","querySelector","_len4","_key4","element1","element2","replaceChild","rewrite","_len5","_key5","_len6","_key6"],"mappings":"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","file":"app.js","sourcesContent":["\"use_strict\";\n/**\n * Component-driven GUI Development\n *\n * API:\n *\n * Reference: -ref=%alias\n * Group:     -group=%alias\n * Label:     -label=\"text\"\n *\n * Attribute: %attr | attr=%alias | attr=%func:alias\n * Content: %alias | %func:alias | %{alias} | %{func:alias}\n *          %alias... | %func:alias... | %{alias...} | %{func:alias...}\n * Escape: \\%example | \\%{example}\n */\n\nrequire(\"core-js/modules/es.array.concat\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.index-of\");\n\nrequire(\"core-js/modules/es.array.map\");\n\nrequire(\"core-js/modules/es.function.bind\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.assign\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/es.object.values\");\n\nrequire(\"core-js/modules/es.regexp.exec\");\n\nrequire(\"core-js/modules/es.string.match\");\n\nrequire(\"core-js/modules/es.string.replace\");\n\nrequire(\"core-js/modules/es.string.split\");\n\nrequire(\"core-js/modules/es.string.link\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nrequire(\"core-js/modules/web.timers\");\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar _assertThisInitialized = require(\"@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar Projectable = require(\"@cosmic-plus/jsutils/es5/projectable\");\n\nvar html = require(\"./html\");\n/**\n * Class\n */\n\n\nmodule.exports =\n/*#__PURE__*/\nfunction (_Projectable) {\n  \"use strict\";\n\n  _inherits(Gui, _Projectable);\n\n  function Gui() {\n    var _this;\n\n    var template = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    var values = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, Gui);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Gui).call(this));\n    var domTree = html.create(\"template\");\n    domTree.innerHTML = expand(template.replace(/^[\\s\\n]*/, \"\").replace(/[\\s\\n]*$/, \"\")); // IE doesn't use .content for template tag\n\n    var content = domTree.content || domTree;\n\n    if (content.childNodes.length > 1 || content.childNodes[0].dataset.type === \"ellipsis\") {\n      _this.domNode = html.create.apply(html, [\"div\", null].concat(_toConsumableArray(content.childNodes)));\n    } else {\n      _this.domNode = content.childNodes[0];\n    }\n\n    Object.defineProperty(_assertThisInitialized(_this), \"domNode\", {\n      enumerable: false,\n      writable: false\n    });\n    rewriteNode(_assertThisInitialized(_this), _this.domNode);\n\n    if (values) {\n      var keys = Object.keys(_assertThisInitialized(_this));\n      var keysFiltered = keys.filter(function (key) {\n        return key !== \"style\";\n      });\n      if (values instanceof Projectable) values.project(keysFiltered, _assertThisInitialized(_this));else keysFiltered.forEach(function (key) {\n        return _this[key] = values[key];\n      });\n      if (keys.indexOf(\"style\") !== -1) Object.assign(_this.style, values.style);\n    }\n\n    _this.listen(\"destroy\", function () {\n      return _this.domNode.innerHTML = null;\n    });\n\n    return _this;\n  }\n\n  return Gui;\n}(Projectable);\n/**\n * Parser\n */\n\n\nfunction expand(template) {\n  return template // Firefox fix\n  .replace(/\\s(on\\w+)=(%\\w+)/g, \" .$1=$2\") // Apply only on content outside of HTML tags.\n  .replace(/(^|>)[^<>]*(<|$)/g, function (string) {\n    return string // %function:identifier...\n    .replace(/(^|[^\\\\])%(\\w+):(\\w+)\\.\\.\\./g, ellipsis) // %identifier...\n    .replace(/(^|[^\\\\])%()(\\w+)\\.\\.\\./g, ellipsis) // %{function:identifier...}\n    .replace(/(^|[^\\\\])%{(\\w+):(\\w+)\\.\\.\\.}/g, ellipsis) // %{identifier...}\n    .replace(/(^|[^\\\\])%{()(\\w+)\\.\\.\\.}/g, ellipsis) // %function:identifier\n    .replace(/(^|[^\\\\])%(\\w+):(\\w+)/g, variable) // %identifier\n    .replace(/(^|[^\\\\])%()(\\w+)/g, variable) // %{function:identifier}\n    .replace(/(^|[^\\\\])%{(\\w+):(\\w+)}/g, variable) // %{identifier}\n    .replace(/(^|[^\\\\])%{()(\\w+)}/g, variable);\n  });\n}\n\nfunction ellipsis(_, prevchar, func, identifier) {\n  return \"\".concat(prevchar, \"<template data-type=\\\"ellipsis\\\" data-func=\\\"\").concat(func, \"\\\">\").concat(identifier, \"</template>\");\n}\n\nfunction variable(_, prevchar, func, identifier) {\n  return \"\".concat(prevchar, \"<template data-type=\\\"variable\\\" data-func=\\\"\").concat(func, \"\\\">\").concat(identifier, \"</template>\");\n}\n/**\n * Rewriter\n */\n\n\nfunction rewriteNode(obj, el) {\n  if (el.attributes) rewriteAttributes(obj, el);\n  if (el.nodeName === \"TEMPLATE\") rewriteTemplate(obj, el);\n  el.childNodes.forEach(function (child) {\n    return rewriteNode(obj, child);\n  });\n}\n\nfunction rewriteAttributes(obj, el) {\n  Object.values(el.attributes).filter(function (attribute) {\n    return attribute.name;\n  }).forEach(function (attribute) {\n    if (attribute.name === \"-ref\" && attribute.value.match(/^%\\w+$/)) {\n      obj[attribute.value.substr(1)] = el;\n    } else if (attribute.name === \"-label\") {\n      var node = html.create(\"label\", {\n        \"for\": el,\n        onclick: function onclick() {\n          return el.click();\n        }\n      }, html.create(\"span\", null, attribute.value));\n      el.parentNode.insertBefore(node, el.nextSibling); // TODO: better aliases for -group\n    } else if (attribute.name === \"-group\" && attribute.value.match(/^%\\w+$/)) {\n      var key = attribute.value.substr(1);\n      if (!obj[key]) obj[key] = {\n        name: uniqueName(),\n        childs: []\n      };\n      obj[key].childs.push(el);\n      el.group = obj[key];\n      el.name = obj[key].name;\n      el.onchange = groupEvent;\n    } else if (attribute.name.match(/^%\\w+$/)) {\n      var src = attribute.name.substr(1);\n      linkAttribute(obj, src, el, src);\n      el.attributes.removeNamedItem(attribute.name);\n    } else if (attribute.value.match(/^%\\w+:\\w+$/)) {\n      var dest = attribute.name;\n\n      var _attribute$value$subs = attribute.value.substr(1).split(\":\"),\n          _attribute$value$subs2 = _slicedToArray(_attribute$value$subs, 2),\n          func = _attribute$value$subs2[0],\n          _src = _attribute$value$subs2[1];\n\n      linkAttribute(obj, _src, el, dest, obj[func].bind(obj));\n    } else if (attribute.value.match(/^%\\w+$/)) {\n      var _dest = attribute.name;\n\n      var _src2 = attribute.value.substr(1);\n\n      linkAttribute(obj, _src2, el, _dest);\n    }\n  });\n}\n\nfunction linkAttribute(obj, src, el, dest, func) {\n  if (dest === \"class\") dest = \"className\";\n  if (dest === \"style\") obj[src] = el.style;\n  if (dest.substr(0, 3) === \".on\") dest = dest.substr(1); // Make sure two-way binding happens before onchange/onclick event.\n  // TODO: check if a clearer way exists.\n\n  if ((el.tagName === \"INPUT\" || el.tagName === \"SELECT\") && dest.substr(0, 2) === \"on\") {\n    var key = dest;\n    dest = \".\".concat(dest);\n\n    el[key] = function (event) {\n      return setTimeout(function () {\n        return el[dest] && el[dest](event);\n      }, 1);\n    };\n  }\n\n  var transformer = func ? func.bind(obj) : functionBinder.bind(obj);\n  obj.link(src, el, dest, transformer); // Two-ways binding.\n\n  if (el.tagName === \"SELECT\" && (dest === \"value\" || dest === \"selectedIndex\" || dest === \"selectedOptions\")) {\n    el.addEventListener(\"change\", function () {\n      return obj[src] = el[dest];\n    });\n  } else if (el.tagName === \"INPUT\" && el.type !== \"radio\" && (el.type !== \"checkbox\" && dest === \"value\" || el.type === \"checkbox\" && dest === \"checked\")) {\n    el.addEventListener(\"input\", function () {\n      return obj[src] = el[dest];\n    });\n  } else if (el.tagName === \"INPUT\" && el.type === \"radio\" && dest === \"checked\") {\n    el.addEventListener(\"change\", function (event) {\n      obj[src] = el[dest];\n      groupEvent(event);\n    });\n  }\n}\n\nfunction rewriteTemplate(object, el) {\n  if (el.dataset.type === \"variable\") rewriteVariable(object, el);else if (el.dataset.type === \"ellipsis\") rewriteEllipsis(object, el);\n}\n\nfunction rewriteVariable(object, el) {\n  var currentNode = el;\n  var key = el.innerHTML;\n  var func = el.dataset.func && object[el.dataset.func].bind(object);\n  var replacer = func ? function () {\n    return currentNode = html.replace(currentNode, func(object[key]));\n  } : function () {\n    return currentNode = html.replace(currentNode, object[key]);\n  };\n  object.trap(key, replacer, {\n    init: false\n  }); // Two-way binding\n  // if (parent.tagName === \"TEXTAREA\" &&)\n}\n\nfunction rewriteEllipsis(obj, el) {\n  var key = el.innerHTML;\n  var func = el.dataset.func && obj[el.dataset.func].bind(obj);\n  var ellipsis = [],\n      ref = html.convert(\"\");\n  html.replace(el, ref);\n\n  var compute = function compute(array) {\n    ellipsis = expandEllipsis(ref, ellipsis, array);\n  };\n\n  var update = function update(event) {\n    // TODO: better memory management\n    if (event.old && typeof event.old.forget === \"function\") {\n      event.old.forget(\"change\", compute);\n    }\n\n    if (event.value && typeof event.value.mirror === \"function\") {\n      if (func) event.value.mirror(func.bind(this)).listen(\"change\", compute);else event.value.listen(\"change\", compute);\n    }\n\n    if (func && event.value) compute(event.value.map(func));else compute(event.value);\n  };\n\n  obj.trap(key, update, {\n    init: false\n  });\n}\n\nfunction expandEllipsis(ref, oldNodes) {\n  var array = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var parent = ref.parentNode;\n  oldNodes.forEach(function (node) {\n    if (node.parentNode === parent) {\n      parent.removeChild(node);\n    }\n  });\n  if (!(array instanceof Array)) array = [array];\n  var ellipsis = [];\n  array.forEach(function (entry) {\n    var node = html.convert(entry);\n    ellipsis.push(node);\n    parent.insertBefore(node, ref);\n  });\n  return ellipsis;\n}\n/**\n * Helpers\n */\n\n\nvar uniqueName = function () {\n  var counter = 0;\n  return function () {\n    counter++;\n    return \"group.\".concat(counter);\n  };\n}();\n\nfunction groupEvent(event) {\n  if (!event) return;\n  var el = event.srcElement;\n  el.group.value = el.value;\n  el.group.childs.forEach(function (child) {\n    if (child !== el && child.onchange) child.onchange();\n  });\n}\n\nfunction functionBinder(value) {\n  if (typeof value === \"function\") return value.bind(this);else return value;\n}","\"use_strict\";\n/**\n * A simple module that ease access to HTML DOM nodes. Any HTML element having\n * an `id` at loading time is registered at dom[id]. This is to avoid running\n * `querySelector` multiple times.\n *\n * @exports dom\n */\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nvar dom = exports;\n\nvar env = require(\"@cosmic-plus/jsutils/es5/env\");\n\nvar html = require(\"./html\"); /// Prevent node failure when accidentaly loading this file.\n\n\nvar document = env.window ? env.window.document : undefined;\n/**\n * Add to dom all **element** child having an `id=` attribute.\n */\n\nfunction ingest() {\n  var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n  if (element.id) dom[element.id] = element;\n  var array = element.querySelectorAll(\"[id]\");\n\n  for (var index in array) {\n    var _element = array[index];\n    if (_element.id) dom[_element.id] = _element;\n  }\n}\n\nObject.defineProperty(dom, \"ingest\", {\n  value: ingest,\n  enumerable: false,\n  writable: false\n});\n/**\n * Main tags.\n */\n\ndom.html = html.grab(\"html\");\ndom.head = html.grab(\"head\");\ndom.body = html.grab(\"body\");\ndom.header = html.grab(\"header\");\ndom.nav = html.grab(\"nav\");\ndom.main = html.grab(\"main\");\ndom.footer = html.grab(\"footer\");\n/**\n * All elements having an ID.\n */\n\ndom.ingest();","\"use_strict\";\n/**\n * Generic tabbed browsing Gui.\n */\n\nrequire(\"core-js/modules/es.array.find\");\n\nrequire(\"core-js/modules/es.array.find-index\");\n\nrequire(\"core-js/modules/es.array.splice\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.string.link\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar _assertThisInitialized = require(\"@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar Mirrorable = require(\"@cosmic-plus/jsutils/es5/mirrorable\");\n\nvar html = require(\"./html\");\n\nvar Gui = require(\"./gui\");\n\nvar Tabs = module.exports =\n/*#__PURE__*/\nfunction (_Mirrorable) {\n  \"use strict\";\n\n  _inherits(Tabs, _Mirrorable);\n\n  function Tabs() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Tabs);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Tabs).call(this));\n    _this.nav = new Tabs.Nav(_assertThisInitialized(_this));\n    _this.selector = new Tabs.Selector(_assertThisInitialized(_this));\n    _this.view = new Tabs.View(_assertThisInitialized(_this));\n    if (options.nav) html.append(options.nav, _this.nav);\n    if (options.selector) html.append(options.selector, _this.selector);\n    if (options.view) html.append(options.view, _this.view);\n    return _this;\n  }\n\n  _createClass(Tabs, [{\n    key: \"add\",\n    value: function add(id, name, content, select) {\n      this.push(new Tabs.Content(this, id, name, content));\n      if (select || !this.selected) this.select(id);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(id) {\n      var index = this.findIndex(function (content) {\n        return content.id === id;\n      });\n      var content = this[index];\n      if (this.selected === content) this.select();\n      if (index != null) this.splice(index, 1);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.splice(0, this.length);\n    }\n  }, {\n    key: \"select\",\n    value: function select(id) {\n      if (this.selected) {\n        this.selected.destroy();\n        if (this.selected.link) this.selected.link.className = \"\";\n      }\n\n      var selected = this.find(function (content) {\n        return content.id === id;\n      });\n\n      if (selected) {\n        selected.generate();\n        if (selected.link) selected.link.className = \"selected\";\n      }\n\n      this.selected = selected;\n      this.trigger(\"select\", id);\n    }\n  }]);\n\n  return Tabs;\n}(Mirrorable);\n\nTabs.Content =\n/*#__PURE__*/\nfunction () {\n  \"use strict\";\n\n  function TabsContent(tabs, id, name, content) {\n    var _this2 = this;\n\n    _classCallCheck(this, TabsContent);\n\n    this.id = id;\n    this.name = name;\n    this.content = content;\n\n    if (content.parentNode && content.parentNode.removeChild) {\n      content.parentNode.removeChild(content);\n    }\n\n    this.select = function () {\n      return tabs.selected === _this2 || tabs.select(id);\n    };\n\n    if (name) {\n      this.link = html.create(\"a\", {\n        onclick: this.select\n      }, name);\n      this.option = html.create(\"option\", {\n        onselect: this.select,\n        value: id\n      }, name);\n    }\n  }\n\n  _createClass(TabsContent, [{\n    key: \"generate\",\n    value: function generate() {\n      if (typeof this.content === \"function\") {\n        this.component = this.content();\n        this.domNode = html.convert(this.component);\n      } else if (!this.domNode) {\n        this.domNode = html.convert(this.content);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.component && this.component.destroy) this.component.destroy();\n    }\n  }]);\n\n  return TabsContent;\n}();\n\nTabs.Nav =\n/*#__PURE__*/\nfunction (_Gui) {\n  \"use strict\";\n\n  _inherits(TabsNav, _Gui);\n\n  function TabsNav(tabs) {\n    var _this3;\n\n    _classCallCheck(this, TabsNav);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(TabsNav).call(this, \"<nav class=\\\"TabsNav\\\">%links...</nav>\"));\n    _this3.links = tabs.mirror(function (tab) {\n      return tab.link;\n    });\n    return _this3;\n  }\n\n  return TabsNav;\n}(Gui);\n\nTabs.Selector =\n/*#__PURE__*/\nfunction (_Gui2) {\n  \"use strict\";\n\n  _inherits(TabsSelector, _Gui2);\n\n  function TabsSelector(tabs) {\n    var _this4;\n\n    _classCallCheck(this, TabsSelector);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(TabsSelector).call(this, \"<select class=\\\"TabsSelector\\\" %onchange value=%selected>%options...</select>\"));\n\n    _this4.onchange = function (event) {\n      return event.target.selectedOptions[0].onselect();\n    };\n\n    _this4.options = tabs.mirror(function (content) {\n      return content.option;\n    });\n    tabs.project(\"selected\", _assertThisInitialized(_this4), function (content) {\n      return content && content.id;\n    });\n    return _this4;\n  }\n\n  return TabsSelector;\n}(Gui);\n\nTabs.View =\n/*#__PURE__*/\nfunction (_Gui3) {\n  \"use strict\";\n\n  _inherits(TabsView, _Gui3);\n\n  function TabsView(tabs) {\n    var _this5;\n\n    _classCallCheck(this, TabsView);\n\n    _this5 = _possibleConstructorReturn(this, _getPrototypeOf(TabsView).call(this, \"<div class=\\\"TabsView\\\">%content</div>\"));\n    tabs.link(\"selected\", _assertThisInitialized(_this5), \"content\", function (x) {\n      return x && x.domNode;\n    });\n    return _this5;\n  }\n\n  return TabsView;\n}(Gui);","\"use_strict\"\n/**\n * Content class\n */\n\nconst Gui = require(\"@cosmic-plus/domutils/es5/gui\")\nconst content = require(\"./content.json\").content\n\n/**\n * Class\n */\n\nclass ContentGui extends Gui {\n  constructor (type) {\n    super(`%formatItem:items...`)\n    this.items = content.filter(item => item.type === type) || []\n  }\n\n  formatItem (item) {\n    return new ContentGui.Section(item)\n  }\n}\n\nContentGui.Section = class ContentSection extends Gui {\n  constructor (item) {\n    super(\n      `\n<section class=\"ContentSection\" %style>\n  %toBackground:background\n  <aside>%short_desc</aside>\n  <h2>%name</h2>\n  <p>%description</p>\n  <nav>%toLink:links...</nav>\n</section>\n    `,\n      item\n    )\n  }\n\n  toLink (link) {\n    if (link[1].startsWith(\"#\")) {\n      return new Gui(`<a href=%1 >%0</a>`, link)\n    } else {\n      return new Gui(`<a href=%1 target=\"_blank\" rel=\"noopener\">%0</a>`, link)\n    }\n  }\n\n  toBackground (background) {\n    if (background) {\n      return new Gui(`<img class=\"background\" src=%background>`, { background })\n    }\n  }\n}\n\n/**\n * Export\n */\n\nmodule.exports = ContentGui\n","\"use_strict\"\n/**\n * GitHub embedded view\n */\nconst urlView = module.exports\n\nconst html = require(\"@cosmic-plus/domutils/es5/html\")\n\nconst iframe = html.create(\"iframe\", \".urlView\")\nhtml.append(document.body, iframe)\n\nconst domain = window.location.href.split(\"/\", 3).join(\"/\") + \"/\"\nconst domainRegexp = new RegExp(`^${domain}(.*)`)\nconst viewRegexp = new RegExp(`^${domain}#view:`)\n\n/**\n * Main functions\n */\n\nurlView.open = function (page) {\n  iframe.src = domain + page.replace(\"%23\", \"#\")\n  onIframeInteractive(iframe, () => rewriteLinks(iframe))\n  html.show(iframe)\n}\n\nurlView.close = function () {\n  html.hide(iframe)\n  iframe.src = \"about:blank\"\n}\n\n/**\n * Helpers\n */\nfunction onIframeInteractive (iframe, thunk) {\n  const iwindow = iframe.contentWindow\n  const xdocument = iwindow.document\n\n  const timer = setInterval(() => {\n    const idocument = iwindow.document\n    if (xdocument === idocument) return\n    const state = idocument.readyState\n    if (state !== \"interactive\" && state !== \"complete\") return\n\n    thunk()\n    clearInterval(timer)\n  }, 40)\n}\n\nfunction rewriteLinks (iframe) {\n  const idocument = iframe.contentWindow.document\n\n  for (let index in idocument.links) {\n    const link = idocument.links[index]\n    if (!link || !link.href) continue\n\n    // Prevent nested navigation.\n    if (link.href.match(viewRegexp)) {\n      link.href = link.href.replace(\"#view:\", \"\")\n    }\n\n    const isSameDomain = link.href.match(domainRegexp)\n    if (isSameDomain) {\n      const href = isSameDomain[1]\n      const [page] = href.split(\"#\", 1)\n      const pathname = iframe.contentWindow.location.pathname\n\n      // `href` for copying link & navigation in new tab/window, `onclick` for\n      // same-page nagivation.\n      const isSamePage = pathname.substr(1) === page\n      const encodedHref = href.replace(\"#\", \"%23\")\n      link.href = `${domain}#view:${encodedHref}`\n      link.onclick = event => {\n        if (isSamePage) event.preventDefault()\n        location.hash = `#view:${encodedHref}`\n      }\n    } else if (link.href.substr(0, 1) !== \"#\") {\n      link.target = \"_blank\"\n      link.rel = \"noopener\"\n    }\n  }\n}\n","module.exports = \"<section><h2>Mission</h2>\\n\\n  <ul>\\n\\n    <li>Release client-side-only applications that demonstrate the unique\\n      potential of Stellar.</li>\\n\\n    <li>Provide a high-level open-source development kit to build Stellar\\n      applications.</li>\\n\\n    <li>Implement and promote a way to secure users funds by decoupling wallets\\n      from other services (CosmicLink, SEP-0007).</li>\\n\\n    <li>Defend the interests of the community by promoting balanced &\\n      vendor-neutral solutions at the protocol level (CAP, SEP).</li>\\n\\n    <li>Promote free software as a way to globally raise the quality of the\\n      Stellar ecosystem.</li>\\n\\n  </ul>\\n\\n</section>\\n\\n\\n<section><h2>Philosophy</h2>\\n\\n  <p>Cosmic.plus embraces the cooperative mindset of the free software\\n  community. Each Cosmic.plus product gets released in the public domain, under\\n  the MIT license.</p>\\n\\n  <p>In a competitive space such as the Stellar ecosystem, most actors\\n  strive to create an edge against competitors. The drawback is that features\\n  that could benefit the whole space are generally jailed in private code\\n  repositories.</p>\\n\\n  <p>By releasing software, libraries & innovative protocols in the public\\n  domain, Cosmic.plus aims at globally improving Stellar's ecosystem quality.\\n  Instead of coding the same functionalities, again and again, developers are\\n  offered an opportunity to focus on what makes their software unique.</p>\\n\\n</section>\\n\\n<section><h2>Economic Model</h2>\\n\\n  <p>It is always a bit tricky to profitably develop open-source software over\\n  the long-term. So far, Cosmic.plus financed itself thanks to programs such as\\n  the Stellar Build Contest or the Stellar Community Fund</p>\\n\\n  <p>While the research & development budget is not secured yet, a fund\\n  exclusively dedicated to long-term maintenance has been put aside. This\\n  guarantees that, in any scenario, Cosmic.plus existing products will remain\\n  up-to-date for years.</p>\\n\\n  <p>There are ongoing plans to make Cosmic.plus financially independent without\\n  sacrificing its ethic. Realistically, this could take a couple of years to\\n  achieve.</p>\\n\\n</section>\\n\\n<section><h2>Privacy</h2>\\n\\n  <p>Privacy is a right. Cosmic.plus applications and libraries don't use\\n  ads nor trackers and don't collect or publish data about users activity.\\n  However, Cosmic.plus web applications are distributed through GitHub,\\n  Cloudflare and to a lesser extent Azure. Those services may keep logs about\\n  user activity.</p>\\n\\n</section>\\n\"","\"use_strict\"\n/**\n * Footer\n */\n\nconst dom = require(\"@cosmic-plus/domutils/es5/dom\")\nconst html = require(\"@cosmic-plus/domutils/es5/html\")\n\nconst donate = require(\"./helpers/donate\")\nconst Icon = require(\"./helpers/icon\")\n\nhtml.append(\n  dom.footer,\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/brands/twitter.svg\"),\n    \"Follow on Twitter\",\n    \"https://twitter.com/cosmic_plus\"\n  ),\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/brands/reddit-alien.svg\"),\n    \"Follow on Reddit\",\n    \"https://reddit.com/r/cosmic_plus\"\n  ),\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/brands/medium-m.svg\"),\n    \"Follow on Medium\",\n    \"https://medium.com/cosmic-plus\"\n  ),\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/brands/codepen.svg\"),\n    \"Follow on Codepen\",\n    \"https://codepen.io/cosmic-plus\"\n  ),\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/brands/telegram-plane.svg\"),\n    \"Chat on Telegram\",\n    \"https://t.me/cosmic_plus\"\n  ),\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/brands/keybase.svg\"),\n    \"Chat on Keybase\",\n    \"https://keybase.io/team/cosmic_plus\"\n  ),\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/brands/github-alt.svg\"),\n    \"Source-code on GitHub\",\n    \"https://git.cosmic.plus\"\n  ),\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/solid/envelope.svg\"),\n    \"Contact by Email\",\n    \"mailto:mister.ticot@cosmic.plus\"\n  ),\n  new Icon(\n    require(\"@cosmic-plus/assets/svg/donate.svg\"),\n    \"Donate Lumens\",\n    donate\n  )\n)\n","\"use_strict\"\n/**\n * Donate Interface\n */\nconst SideFrame = require(\"./side-frame\")\n\nfunction donate () {\n  const amount = prompt(`\\\nCosmic.plus welcome donations. Each contribution matters. :)\n\nAmount in Lumens:\\\n`)\n\n  if (isNaN(Number(amount))) confirm(`Not a valid amount: ${amount}`)\n  else if (amount) showDonationFrame(amount)\n}\n\nfunction showDonationFrame (amount) {\n  const base = \"https://cosmic.link/?payment&network=public\"\n  const memo = \"Donation%20to%20Cosmic.plus\"\n  const destination = \"GAWO2C52D57XBT7SQL6YB3XPHFLFD2J4Z5RN7HPFZSHXJMXH72HRXNV3\"\n  const url = `${base}&memo=${memo}&amount=${amount}&destination=${destination}`\n  new SideFrame(url)\n}\n\nmodule.exports = donate\n","\"use_strict\"\n/**\n * Signing Side Frame\n */\nconst html = require(\"@cosmic-plus/domutils/es5/html\")\n\n/**\n * Class\n */\n\nclass SideFrame {\n  constructor (url) {\n    if (SideFrame.current) SideFrame.current.close()\n    SideFrame.current = this\n\n    this.domNode = html.create(\"iframe\", {\n      title: \"Signing Frame\",\n      src: url,\n      sandbox: \"allow-same-origin allow-scripts allow-forms allow-popups\",\n      hidden: true\n    })\n    Object.assign(this.domNode.style, SideFrame.style)\n    html.append(document.body, this.domNode)\n\n    this.show()\n  }\n\n  show () {\n    if (!this.domNode.hidden) return\n\n    this.htmlOverflow = document.documentElement.style.overflow\n    this.bodyOverflow = document.body.style.overflow\n    document.documentElement.style.overflow = \"hidden\"\n    document.body.style.overflow = \"hidden\"\n\n    SideFrame.shadow.onclick = () => this.close()\n    html.show(SideFrame.shadow, this.domNode)\n  }\n\n  hide () {\n    if (this.domNode.hidden) return\n\n    document.documentElement.style.overflow = this.htmlOverflow\n    document.body.style.overflow = this.bodyOverflow\n\n    SideFrame.shadow.onclick = null\n    html.hide(SideFrame.shadow, this.domNode)\n  }\n\n  close () {\n    SideFrame.current = null\n    this.hide()\n    html.destroy(this.domNode)\n  }\n}\n\n/**\n * Event\n */\n\nwindow.addEventListener(\"message\", event => {\n  const frameWindow =\n    SideFrame.current && SideFrame.current.domNode.contentWindow\n\n  if (event.source === frameWindow) {\n    switch (event.data) {\n    case \"show\":\n      SideFrame.current.show()\n      break\n    case \"hide\":\n      SideFrame.current.hide()\n      break\n    case \"close\":\n      SideFrame.current.close()\n      break\n    }\n  }\n})\n\n/**\n * Frame style\n */\n\nSideFrame.style = {\n  position: \"fixed\",\n  zIndex: 999,\n  right: 0,\n  top: 0,\n  width: \"30em\",\n  maxWidth: \"100%\",\n  height: \"100vh\",\n  border: \"0.1em solid hsl(240, 10%, 75%)\",\n  background: \"hsl(240, 40%, 98%)\",\n  backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12em\" height=\"12em\" viewBox=\"0 0 18055.55 18055.55\" shape-rendering=\"geometricPrecision\" text-rendering=\"geometricPrecision\" image-rendering=\"optimizeQuality\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"><path d=\"M6184.01 6244.26l-5076.93 5077.09c-1542.18 1542.18-1542.18 4042.74 0 5584.91 1542.18 1542.18 4042.74 1542.18 5584.91 0l5050.06-5050.22c-946.39 926.55-2243.37 1281.63-3458.3 1065.06l-2788.46 2788.46c-881.29 881.29-2310.22 881.29-3191.52 0-881.29-881.29-881.29-2310.22 0-3191.51l2788.62-2788.62 2311.35-2311.19c883.05-858.58 2294.87-850.9 3168.48 22.71 880.17 880.17 881.29 2306.54 3.52 3188.31l2288.31-2288.47c-136.75-767.89-501.74-1503.15-1095.13-2096.54-593.23-593.23-1328.33-958.22-2096.22-1095.13-1271.39-226.64-2574.93 181.38-3488.69 1095.13z\" fill=\"#c1c1c1\"/><path d=\"M11772.44 11825.98l5076.93-5077.09c1542.18-1542.18 1542.18-4042.74 0-5584.91-1542.18-1542.18-4042.74-1542.18-5584.91 0L6214.4 6214.2c946.39-926.56 2243.37-1281.63 3458.3-1065.07l2788.46-2788.46c881.29-881.29 2310.22-881.29 3191.52 0 881.29 881.29 881.29 2310.22 0 3191.52l-2788.62 2788.62L10552.71 10652c-883.05 858.57-2294.87 850.9-3168.48-22.71-880.17-880.17-881.29-2306.55-3.52-3188.31L5092.4 9729.45c136.75 767.89 501.74 1503.15 1095.13 2096.54 593.23 593.23 1328.33 958.22 2096.22 1095.13 1271.39 226.64 2574.93-181.37 3488.69-1095.13z\" fill=\"#9f9f9f\"/><path d=\"M12651.33 7587.95l-1418.38 1418.38c7.84 577.72-204.89 1157.83-638.02 1603.44l2269.12-2268.96c-45.58-255.91-116.44-508.14-212.72-752.85zm-909.28 4268.09c-810.76 793.48-1919.32 1194.94-3038.77 1116.89-139.79-9.76-279.9-26.87-419.53-51.82l-509.1 509.1c365.47 95.48 749.17 146.35 1144.56 146.35 448 0 880.65-65.26 1289.15-186.81l1533.7-1533.7z\" fill=\"#a6a6a6\"/><path d=\"M6214.4 6214.2c810.76-793.48 1919.32-1194.94 3038.77-1116.89 139.79 9.76 279.9 26.87 419.53 51.82l439.2-439.2c-379.87-103.8-779.89-159.3-1192.7-159.3-416.81 0-820.35 56.46-1203.57 162.34L6214.4 6214.2zm509.1 2788.78c7.36-557.41 220.08-1112.57 638.02-1542.5L5092.4 9729.44c42.87 240.56 108.12 478.07 195.77 708.87L6723.5 9002.98z\" fill=\"#888888\"/></svg>')`,\n  backgroundRepeat: \"no-repeat\",\n  backgroundPosition: \"center\",\n  padding: 0\n}\n\n/**\n * Shadow Layer\n */\n\nSideFrame.shadow = html.create(\"div\", { hidden: true })\nObject.assign(SideFrame.shadow.style, {\n  position: \"fixed\",\n  zIndex: 998,\n  top: 0,\n  width: \"100%\",\n  height: \"100%\",\n  background: \"rgba(0,0,0,0.2)\"\n})\ndocument.body.insertBefore(SideFrame.shadow, document.body.firstChild)\n\n/**\n * Export\n */\n\nmodule.exports = SideFrame\n","\"use_strict\"\n/**\n * Footer Icons\n */\nconst Gui = require(\"@cosmic-plus/domutils/es5/gui\")\n\nclass Icon extends Gui {\n  constructor (image, name, action) {\n    super(`<a -ref=%link class=\"Icon\">%image</a>`)\n\n    this.image = typeof image === \"string\" ? new Gui(image) : image\n    this.link.title = name\n\n    if (typeof action === \"function\") {\n      this.link.onclick = action\n    } else if (typeof action === \"string\") {\n      this.link.href = action\n      if (action.match(/^http/)) {\n        this.link.target = \"_blank\"\n        this.link.rel = \"noopener\"\n      }\n    }\n  }\n}\n\nmodule.exports = Icon\n","\"use_strict\"\n/**\n * Cosmic Plus interface\n */\nconst dom = require(\"@cosmic-plus/domutils/es5/dom\")\nconst html = require(\"@cosmic-plus/domutils/es5/html\")\nconst Tabs = require(\"@cosmic-plus/domutils/es5/tabs\")\nconst Gui = require(\"@cosmic-plus/domutils/es5/gui\")\n\nconst ContentGui = require(\"./content\")\nconst urlView = require(\"./helpers/url-view\")\n\nconst about = new Gui(require(\"../bundled/about.html\"))\nrequire(\"./footer\")\n\n/**\n * Website Tabs\n */\n\nconst tabs = new Tabs({ nav: dom.header, selector: dom.header, view: dom.main })\ntabs.add(\"#applications\", \"Applications\", new ContentGui(\"webapp\"))\ntabs.add(\"#libraries\", \"Libraries\", new ContentGui(\"libjs\"))\ntabs.add(\"#about\", \"About\", about)\ntabs.add(\"#blog\", \"Blog\", () =>\n  location.replace(\"https://medium.com/cosmic-plus\")\n)\n\ntabs.select(null)\ntabs.select(location.hash)\ntabs.listen(\"select\", tab => {\n  if (tab) location.hash = tab\n})\n\n/**\n * Navigation Handler\n */\n\nfunction hashHandler () {\n  dom.main.scrollTop = 0\n\n  if (location.hash.substr(0, 6) === \"#view:\") {\n    tabs.select(null)\n    urlView.open(location.hash.substr(6))\n    html.hide(dom.main)\n  } else if (!tabs.selected) {\n    tabs.select(\"#applications\")\n  } else {\n    urlView.close()\n    html.show(dom.main)\n  }\n}\n\nwindow.onhashchange = hashHandler\nhashHandler()\n","\"use_strict\";\n/**\n * Utilities to manipulate HTML element from javascript.\n *\n * Those may not be feature complete, as this library purpose is to ease\n * cosmic-lib and Stellar Authenticator development, rather than provide a\n * generic-case toolbox.\n *\n * @exports html\n */\n\nrequire(\"core-js/modules/es.array.concat\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.index-of\");\n\nrequire(\"core-js/modules/es.object.assign\");\n\nrequire(\"core-js/modules/es.regexp.exec\");\n\nrequire(\"core-js/modules/es.string.replace\");\n\nrequire(\"core-js/modules/es.string.split\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nvar html = exports;\n\nvar env = require(\"@cosmic-plus/jsutils/es5/env\");\n\nvar misc = require(\"@cosmic-plus/jsutils/es5/misc\"); /// Prevent node failure when accidentaly loading this file.\n\n\nvar document = env.window ? env.window.document : undefined;\n\nif (env.isNode) {\n  console.error(\"@cosmic-plus/domutils is a browser-only module\");\n}\n/**\n * Add `string` as additional CSS definitions for the current document.\n *\n * @param {string} styles CSS definitions\n */\n\n\nhtml.addStyles = function (styles) {\n  var styleNode = html.create(\"style\", {\n    type: \"text/css\"\n  }, styles);\n  html.append(document.head, styleNode);\n};\n/**\n * Append `childs` as the end of `element`.\n *\n * @param {HTMLElement} element\n * @param {...(HTMLElement|String|Error)} childs\n */\n\n\nhtml.append = function (element) {\n  for (var _len = arguments.length, childs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    childs[_key - 1] = arguments[_key];\n  }\n\n  childs.forEach(function (child) {\n    return element.appendChild(html.convert(child));\n  });\n};\n/**\n * Add `className` as an additionnal class for `element`.\n *\n * @param {HTMLElement} element\n * @param {string} className\n * */\n\n\nhtml.addClass = function (element, className) {\n  var classes = element.className.split(\" \");\n  if (classes.indexOf(className) === -1) element.className += \" \".concat(className);\n}; // Deprecated since 2019-01-16\n\n\nhtml.appendClass = function (element, className) {\n  misc.deprecated(\"2019-07-16\", \"html.appendClass()\", \"html.addClass()\");\n  return html.addClass(element, className);\n};\n/**\n * Remove everything inside `element`.\n *\n * @param {HTMLElement} elements\n * */\n\n\nhtml.clear = function () {\n  for (var _len2 = arguments.length, elements = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    elements[_key2] = arguments[_key2];\n  }\n\n  elements.forEach(function (element) {\n    return element.innerHTML = \"\";\n  });\n};\n/**\n * If **object** is not an *HTMLElement*, convert it to a text DOM node; else\n * return **object**.\n *\n * @param  {Object} object\n * @return {HTMLELement}\n */\n\n\nhtml.convert = function (object) {\n  // https://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object/36894871#36894871\n  if (object instanceof Element || object instanceof HTMLDocument || object instanceof Text) return object;else if (object == null) return document.createTextNode(\"\");else return object.domNode || document.createTextNode(object);\n};\n/**\n * Copy text inside `element`. `element` should be a textbox like textarea or\n * text input.\n *\n * @param {HTMLElement} element\n * @param\n * */\n\n\nhtml.copyContent = function (element) {\n  /// Don't copy complete box content twice / when user made a selection.\n  if (element.selectionStart !== element.selectionEnd) return;\n\n  if (element.select) {\n    element.select();\n  } else if (window.getSelection) {\n    var range = document.createRange();\n    range.selectNode(element);\n    window.getSelection().removeAllRanges();\n    window.getSelection().addRange(range);\n  } else {\n    return;\n  }\n\n  return document.execCommand(\"copy\");\n};\n/**\n * Copy `string` into user clipboard.\n *\n * @param {string} string\n */\n\n\nhtml.copyString = function (string) {\n  var textBox = html.create(\"textarea\", {}, string);\n  html.append(document.body, textBox);\n  html.copyContent(textBox);\n  html.destroy(textBox);\n};\n/**\n * Return a newly created HTML element whose tag is `name`, attributes\n * `attributes` and childs `childs`.\n *\n * @param {string} name\n * @param {object|string} [attributes|className|ID]\n * @param {...HTMLElement} [childs]\n */\n\n\nhtml.create = function (name, attributes) {\n  var element = document.createElement(name);\n\n  if (typeof attributes === \"string\") {\n    switch (attributes.substr(0, 1)) {\n      case \"#\":\n        element.id = attributes.substr(1);\n        break;\n\n      case \".\":\n        element.className = attributes.substr(1);\n        break;\n\n      default:\n        throw new Error(\"Unhandled attribute\");\n    }\n  } else {\n    Object.assign(element, attributes);\n  }\n\n  for (var _len3 = arguments.length, childs = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n    childs[_key3 - 2] = arguments[_key3];\n  }\n\n  if (childs.length > 0) html.append.apply(html, [element].concat(childs));\n  return element;\n};\n/**\n * Destroy `element`.\n *\n * @param {HTMLElement} element\n * */\n\n\nhtml.destroy = function (element) {\n  try {\n    if (element.parentNode) element.parentNode.removeChild(element);\n    element.innerHTML = \"\";\n  } catch (error) {\n    console.error(error);\n  }\n};\n/**\n * Return the first element matching `pattern`.\n * If `name` starts with `#`, it will match against IDs.\n * If `name` starts with `.`, it will match against classes.\n * If `name` is a plain word, it will match against tags.\n * If `parent` is given, it will look recursively in `parent` childs.\n *\n * @param {string} pattern\n * @param {HTMLElement} [parent=document]\n * */\n\n\nhtml.grab = function (pattern) {\n  var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n  return parent.querySelector(pattern);\n};\n/** Set the `style.display` property of `...elements` to `none`.\n *\n * @param {...HTMLElement} elements\n */\n\n\nhtml.hide = function () {\n  for (var _len4 = arguments.length, elements = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    elements[_key4] = arguments[_key4];\n  }\n\n  elements.forEach(function (element) {\n    return element.hidden = true;\n  });\n};\n/**\n * Replace `element1` by `element2`.\n *\n * @param {HTMLElement} element1 The element to replace.\n * @param {HTMLElement} element2 The element to put in place of `element1`.\n */\n\n\nhtml.replace = function (element1, element2) {\n  var node = html.convert(element2);\n  element1.parentNode.replaceChild(node, element1);\n  return node;\n};\n/**\n * Set the content of element to ...childs. Any previous content will be erased.\n *\n * @param {HTMLElement} element\n * @param {...HTMLElement} childs\n */\n\n\nhtml.rewrite = function (element) {\n  html.clear(element);\n\n  for (var _len5 = arguments.length, childs = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    childs[_key5 - 1] = arguments[_key5];\n  }\n\n  html.append.apply(html, [element].concat(childs));\n};\n/**\n * Set the `style.display` property of `...elements` to `block`.\n *\n * @param {...HTMLElement} elements\n */\n\n\nhtml.show = function () {\n  for (var _len6 = arguments.length, elements = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    elements[_key6] = arguments[_key6];\n  }\n\n  elements.forEach(function (element) {\n    return element.hidden = false;\n  });\n};"],"sourceRoot":""}